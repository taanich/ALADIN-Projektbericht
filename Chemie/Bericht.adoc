:doctype: book
include::../file-attributes.inc.adoc[]
:imagesdir: images

== Aufgabentyp - {chemie}

=== Aufgabenstellung

Die Aufgabe und das dazugehörige Programm wurden in Zusammenarbeit mit Prof. Dr. Teichert der Technischen Universität Chemnitz entwickelt. Maßstäbe und Begrenzungen der Aufgabenstellung richten sich inhaltlich nach seinen Anforderungen und Wünschen.

image::CH_AufgabenstellungChemie.png[]
=== Aufgabenbeschreibung

Die Aufgabe erforderte es, ein Programm zu erstellen, welches aus einer endlichen, vorgegebenen Liste zufällig Stoffe auswählte und diese unter Einhaltung der chemischen Regeln in einer Reaktion darstellte. Diese Reaktion basiert auf dem Konzept der elektrophilen aromatischen Substitution und das Ziel besteht darin, dass der Student reaktionsbeschreibende Eigenschaften nennen und das fertige Reaktionsprodukt in einem implementierten Editor zeichnen muss. Diese zwei Aufgabenteile sollen, anschaulich und intuitiv in der Verwendung, dargestellt werden.

==== Chemischer Hintergrund

Die elektrophile Substitution gehört zur Gruppe der Substitutionsreaktionen in der organischen Chemie. Ein Atom oder eine Atomgruppe wird durch ein elektrophiles Teilchen ersetzt. Ein Elektrophil hat eine positive Ladung oder Teilladung und ist daher bestrebt, Elektronen aufzunehmen (elektronenliebend). Das Programm beinhaltet ausschließlich die Reaktion mit Benzolringen, da diese eine der häufigsten Reaktionen dieses Typs sind.
Dabei wird der Benzolring von elektrophilen Teilchen angegriffen und ein Wasserstoffatom verdrängt. Solch eine Reaktion beinhaltet abgesehen von Benzolring drei weitere Ausgangsstoffe. Die Reagenz (X) ist der Stoff der Reaktionsbedingung, in diesem Beispiel handelt es sich um eine Bromierung, folglich ist die Reagenz ein Brommolekül. Der Katalysator spaltet besagte Reagenz auf, um Reaktionen zu ermöglichen, in diesem Fall ist dies der Katalysator FeBr3. Der letzte Ausgangsstoff ist der Erstsubstituent (R), dieser ist sehr variabel und kann ein Ion oder ein ganzes Molekül sein. 
In der Reaktion reagiert sowohl der Erstsubstituent, als auch die Regenz an den Benzolring. Die Reagenz reagiert relativ zum Erstsubstituenten an einer von drei möglichen Positionen: Para, Meta, oder Ortho. Das ist abhängig von der Reagenz selbst, dem Erstsubstituenten, sowie jeglichen Reaktionsbedingungen. 

=== Anforderung

Die wichtigste Anforderung ist das intuitive Navigieren. Eine benutzerfreundliche Benutzeroberfläche sollte eine Navigation bieten, die für den Benutzer leicht verständlich ist. Dies umfasst klar gekennzeichnete Aufgabenfelder und Navigationselemente, die dem Benutzer eine nahtlose Interaktion mit dem System ermöglichen.
Ein weiterer wichtiger Aspekt ist die wiederholbare Nutzung des Systems. Die Benutzeroberfläche sollte so gestaltet sein, dass Benutzer das System wiederholt nutzen können. Dies erfordert eine konsistente Strukturierung der Benutzeroberfläche und eine klare Darstellung von Funktionen und Optionen, sodass eine Nutzung ohne ständiges Neuladen der Seite erfolgen kann.
Die Verständlichkeit der Aufgabenstellung ist ebenfalls entscheidend. Die Aufgabenstellung und Anweisungen innerhalb des Systems müssen klar und verständlich formuliert sein, um Missverständnisse zu vermeiden und den Benutzern eine klare Orientierung zu bieten.
Des Weiteren muss das System einen Editor bereitstellen, der es den Benutzern ermöglicht, die chemische Reaktion visuell darzustellen. Dieser Editor muss benutzerfreundlich sein und eine einfache Bearbeitung der Reaktion ermöglichen.
Benutzer müssen in der Lage sein, die Eigenschaften der Reaktion in das System einzugeben. Daher benötigt die Benutzeroberfläche eine Schnittstelle, die es den Benutzern ermöglicht, die relevanten Informationen präzise und korrekt einzugeben.
Zusätzlich sollte das System eine Funktion zum Zeichnen des Reaktionsprodukts durch die Benutzer bereitstellen. Dies ermöglicht es den Benutzern, ihr Verständnis der Reaktion auf visuelle Weise zu demonstrieren.
Schließlich muss das System die eingegebenen Informationen validieren, um sicherzustellen, dass sie mit den vorgegebenen Lösungen übereinstimmen. Dadurch wird sichergestellt, dass die Benutzer korrekte und akkurate Informationen eingeben, um ein direktes Feedback zu ihrem Wissensstand zu erhalten.
Diese Anforderungen bilden die Grundlage für die Gestaltung und Entwicklung der Benutzeroberfläche, um eine optimale Benutzererfahrung zu gewährleisten.

=== Planung

Bei der Planung des IT-Projekts müssen verschiedene Aspekte berücksichtigt werden, die eng mit den chemischen Regeln und den Vorgaben von Prof. Teichert zusammenhängen. Diese Regeln dienen als Grundlage für die Entwicklung des Programms und müssen entsprechend umgesetzt werden. Dies kann durch die Implementierung von Algorithmen und Logik geschehen, die die chemischen Prinzipien abbilden und verarbeiten.
Um auf die von Prof. Teichert bereitgestellten Daten zugreifen zu können, ist es notwendig, Schnittstellen zu implementieren, die es dem Programm ermöglichen, diese Daten abzurufen und zu verarbeiten. Dies kann beispielsweise durch JSON-Datei geschehen, hierbei werden die Daten in jenen Dateien gespeichert und später, wenn abgerufen von Aladin wieder ausgelesen.
Unser Framework benötigt ein bestimmtes Datenformat, um effizient mit den Daten umgehen zu können. Ein strukturiertes Format wie JSON oder XML könnte verwendet werden, um die Informationen über chemische Reaktionen und Eigenschaften klar und einheitlich darzustellen.
Die Benutzereingaben müssen durch eine benutzerfreundliche Oberfläche gestaltet werden, die klare Anweisungen und Eingabefelder bietet, um die erforderlichen Informationen von den Benutzern zu erhalten. Dies kann durch die Verwendung von Formularen, Dropdown-Menüs oder anderen interaktiven Elementen geschehen.
Für die Darstellung und Zeichnung chemischer Reaktionen empfehlen wir den Einsatz des JSME Editors, da dieser von Prof. Teichert empfohlen wird und bereits von den Studenten vertraut ist. Dieser Editor erfüllt alle relevanten Anforderungen und bietet eine benutzerfreundliche Erfahrung.
Die Implementierung eines externen Editors wie JSME erfordert möglicherweise die Integration entsprechender Schnittstellen oder Plugins in das Framework, um die Interaktion zwischen dem Programm und dem Editor zu ermöglichen. Dies kann durch die Nutzung von APIs oder anderen Integrationstechniken erfolgen, um eine reibungslose Zusammenarbeit zwischen beiden Komponenten sicherzustellen.

=== Technische Umsetzung

Zunächst folgte die Umsetzung eines Prototypen in Java, dieser diente zunächst dazu, die Aufgabe grundlegend zu modellieren, um die Komplexität zu erfassen. Die Interaktion folgte hier zunächst rein über Konsolen In- und Outputs, welche jedoch im Rahmen des Prototypen ausreichend waren, um erste Funktionen implementieren und testen zu können.
Anschließend folgte die Analyse des vorhandenen Backends Aladin und dem dazugehörigen Frontend Carpet. Die zugrundeliegenden Programmiersprachen sind Typescript, Vue, sowie Json, dies überschneidet sich jedoch nicht mit der Programmiersprache des erstellten Prototypen. 
Nach ersten Einschätzungen wäre eine direkte Implementierung der Aufgabenlogik in Front- und Backend eine komplexere Lösung als ein Aufruf des Java Programm, welches dann Inhalte entsprechend wiedergibt.
Der Prototyp wurde anschließend entsprechend angepasst: Als Input erfolgt das Einlesen einer Json-Datei mit dem festen Namen “Substituenten.json”, diese befindet sich im Root-Verzeichnis der Software, in der sie eingefügt wurde. Weiterhin gibt es eine Datei “Reagenz.json”, welches sich ebenfalls im Root-Verzeichnis befinden muss. Der Prototyp liest den Inhalt dieser Datei aus, erstellt Parameter einer zufälligen Aufgabe, sowie deren Lösung und speichert alle benötigten Inhalte in einer Datei namens “Antwort.json”. Diese Datei wird ebenfalls im Root-Verzeichnis erstellt. Das gesamte Programm liegt als Jar-Datei vor und kann, sollten alle Dateien entsprechend abgelegt sein, in jeder Ordnerstruktur aufgerufen werden.
Diese Jar-Datei wurde dann entsprechend im Backend von Aladin im Ordner Tasks unter Chemistry eingefügt. Sie wird dann über das Backend aufgerufen, es werden neue Daten generiert und in Antwort.json gespeichert, aus welcher diese dann wieder ausgelesen und verwendet werden können. 
Wenn die Oberfläche von Aladin aufgerufen wird und der Nutzer die Kategorie Chemie auswählt, werden die benötigten Komponenten zusammengestellt und angezeigt. Dazu gehören das Aufrufen der Jar-Datei und das Verarbeiten ihrer Ausgabe, das Anzeigen der Aufgabenstellung und das Einbinden des JSME Editors. Dieser wird jedes mal dynamisch aufgerufen und in mehreren Ausführungen angezeigt. 

Um dem Nutzer die Aufgabenstellung zu verdeutlichen, wird auf der ersten Seite dem Nutzer lediglich ein Feld angezeigt, in welchem die Reaktion mit den dazugehörigen Reaktionsstoffen dargestellt wird. Dabei handelt es sich um einen JSME Editor, der mittels mehrer Parameter und einem String aufgerufen wird. Die Parameter dienen dazu, alle Schaltflächen für die Bearbeitung zu entfernen und den Editor somit auf Read-only einzustellen. Der String enthält einen komplexen “SMILES” Code, der vom Editor als Reaktionsgleichung erkannt und angezeigt wird. Dieser wurde ebenfalls von der Jar Datei erzeugt. Weiterhin gibt es eine Komponente, die zwei Dropdown Felder enthält. Der Nutzer muss zwei Teilaufgaben lösen, indem er die richtigen Elemente in den Feldern auswählt und anschließend seine Antworten überprüfen lässt. Erst wenn diese Benutzereingabe durch Carpet validiert wurde, erhält der Nutzer die Möglichkeit, auf die nächste Seite zu wechseln.

Auf der zweiten Seite wird der Nutzer aufgefordert, das chemische Hauptprodukt selbst darzustellen. Dazu wird hier erneut die Reaktionsgleichung mit einem Read-only Editor angezeigt. Weiterhin gibt es einen zweiten Editor, dieser ist jedoch leer und enthält alle benötigten Schaltflächen, damit der Nutzer verschiedene chemische Stoffe zeichnen kann. Jede Benutzereingabe sendet den Inhalt der JSME Editors als String an Carpet, wo dieser String mit der zuvor durch die Jar-Datei erstellten Lösung abgeglichen wird. Erst nach Eingabe der korrekten Lösung erhält der Nutzer eine visuelle Bestätigung und kann zurück zur Startseite von Aladin kehren.

=== Ergebnisse

|===
| Anforderung | Status

| Geben Sie den Ort der Zweitsubstitution in einer elektrophilen aromatischen Substitution an! | gelöst (mittels eines Dropdown Feldes welches die Eingabe des Studenten erwartet)
| Zeichnen Sie das zu erwartende Hauptprodukt.| gelöst (mittels einbinden des JSME-Editors)
| Erwarten Sie eine Überreaktion des Erstprodukts unter den gegebenen Reaktionsbedingungen | gelöst (mittels eines Dropdown Feldes welches die Eingabe des Studenten erwartet)
| Validierung der, von dem Studenten, eingegeben Daten | teilweise gelöst (mittels Validierungsfunktionen zum Abgleich der Eingaben mit der richtigen Lösung)

|===

Die Umsetzung in Aladin und Carpet stellte den umfangreichsten Teil unserer Arbeit dar. Dabei war die Unterstützung von Herrn Christ von entscheidender Bedeutung, um ein fundiertes Verständnis für die beiden Frameworks zu entwickeln. Seine Kenntnisse halfen uns, die Herausforderungen zu bewältigen und die Funktionalitäten effektiv zu nutzen. Durch die Strukturierung der Probleme in zwei Bereiche konnten wir die Aufgaben klar unterteilen und effizient bearbeiten. Diese Herangehensweise ermöglichte eine gezielte Umsetzung und trug maßgeblich zum Erfolg des Projekts bei.
Positiv betrachtet ermöglichten Aladin und Carpet eine umfassende Realisierung unserer Ziele und boten vielfältige Möglichkeiten zur Gestaltung und Implementierung.

==== Probleme 

Während des Projekts traten verschiedene Probleme und Herausforderungen auf. Die Einarbeitung in das bestehende Framework war mit einer wesentlich höheren Komplexität verbunden, als zu Beginn des Projekts angenommen. Die Implementierung war sehr zeitaufwändig und erforderte intensive Unterstützung durch Herrn Christ. Darüber hinaus gab es während der Umsetzung einige technische Schwierigkeiten, die den Fortschritt zeitweise verlangsamten.

=== Ausblick

Das Programm stellt eine akzeptable Basis für eine Weiterentwicklung dar. Die Implementierung in Java besitzt geringe Komplexität und lässt sich schnell überarbeiten und entsprechend anpassen. Weiterhin sind alle notwendigen Komponenten in Aladin implementiert, sowie alle Schnittstellen, die dazu dienen, eine lauffähige Oberfläche zu erzeugen. Eine Erweiterung, die bereits teilweise implementiert ist, ist die Erweiterung um verschiedene mögliche Reagenzien. Das Programm arbeitet bereits mit einer Json-Datei, in welcher besagte Stoffe übergeben werden, jedoch sind diese aus chemischer Sicht nicht vollständig korrekt, sondern wurden lediglich aus informatischer Sicht für Testzwecke verwendet. Sollte eine Variation der Reagenz in Zukunft hinzugefügt werden, so müsste die Jar-Datei inhaltlich, chemisch korrekt, angepasst werden, um korrekte Ergebnisse liefern zu können. 
Weiterhin könnte der Nutzer auch weitere Reaktionsparameter, auch im Zusammenhang mit weiteren Reagenzien, abgefragt werden. Dazu müsste die Anzeige der Aufgabenstellung entsprechend verändert und eine Eingabe für den Nutzer geschaffen werden. Dazu bietet sich die bereits existierende Komponente, die die Dropdown Felder enthält an, es gibt jedoch auch eine Reihe weiterer Komponenten, die für solche Zwecke eine potentielle Lösung darstellen könnten.  

